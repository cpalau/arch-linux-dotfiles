# GnuPG Agent Configuration for Cristian Palau
# File: ~/.gnupg/gpg-agent.conf
#
# The GPG agent manages private keys and passphrases, providing secure
# caching and handling of cryptographic operations.
#
# Installation: ln -sf "$(pwd)/dotfiles/.gnupg/gpg-agent.conf" ~/.gnupg/gpg-agent.conf

# ============================================================================
# CACHE TIMEOUT SETTINGS
# ============================================================================

# Default cache timeout for passphrases (in seconds)
# 1800 seconds = 30 minutes
# After this time of inactivity, the passphrase will be forgotten
default-cache-ttl 1800

# Maximum cache timeout (in seconds)  
# 7200 seconds = 2 hours
# This is the absolute maximum time a passphrase will be remembered
max-cache-ttl 7200

# Cache timeout for SSH keys (if SSH support is enabled)
# 1800 seconds = 30 minutes
default-cache-ttl-ssh 1800

# Maximum cache timeout for SSH keys
# 7200 seconds = 2 hours  
max-cache-ttl-ssh 7200

# ============================================================================
# PINENTRY CONFIGURATION
# ============================================================================

# Pinentry program for passphrase input
# Choose the appropriate one for your environment:
#
# For GTK-based desktop environments (GNOME, XFCE, etc.):
pinentry-program /usr/bin/pinentry-gtk-2
#
# For Qt-based desktop environments (KDE):
# pinentry-program /usr/bin/pinentry-qt
#
# For terminal-only environments:
# pinentry-program /usr/bin/pinentry-curses
#
# For automatic detection:
# pinentry-program /usr/bin/pinentry

# ============================================================================
# SSH SUPPORT (OPTIONAL)
# ============================================================================

# Enable SSH agent functionality
# This allows gpg-agent to handle SSH keys in addition to GPG keys
# Uncomment the following line to enable:
# enable-ssh-support

# ============================================================================
# SECURITY AND BEHAVIOR SETTINGS
# ============================================================================

# Disable passphrase confirmation for convenience
# Only use this if you're confident in your typing accuracy
# no-grab

# Enable debug mode (uncomment for troubleshooting)
# debug-level basic
# log-file ~/.gnupg/gpg-agent.log

# ============================================================================
# INSTALLATION NOTES
# ============================================================================
#
# After installing this configuration:
#
# 1. Reload the GPG agent:
#    gpgconf --kill gpg-agent
#    gpg-agent --daemon
#
# 2. Test the configuration:
#    echo "test" | gpg --clearsign
#
# 3. Verify SSH support (if enabled):
#    ssh-add -l
#
# 4. Add to shell profile if using SSH support:
#    export SSH_AUTH_SOCK=$(gpgconf --list-dirs agent-ssh-socket)
#    export GPG_TTY=$(tty)